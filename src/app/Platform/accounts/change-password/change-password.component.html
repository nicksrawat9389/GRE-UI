<div class="account-setting-right">
    <h3>Manage Your Account Profile</h3>
    <p>Please Use the form below to change/update your account password.</p>
    <span></span>
<form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
  <div class="row">
    <!-- Current Password -->
    <div class="col-md-12">
  <div class="mb-3 w-50">
    <label class="form-label fw-semibold">Current Password</label>
    <div class="position-relative">
      <input [type]="showCurrentPassword ? 'text' : 'password'"
             class="form-control pe-5"
             formControlName="currentPassword"
             placeholder="Current Password"
             maxlength="50">
      <button type="button" *ngIf="changePasswordForm.get('currentPassword')?.value"
              class="btn position-absolute top-50 end-0 translate-middle-y border-0 bg-transparent"
              (click)="showCurrentPassword = !showCurrentPassword">
        <i class="bi" [ngClass]="showCurrentPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
      </button>
    </div>
    <small class="text-danger"
           *ngIf="changePasswordForm.get('currentPassword')?.errors?.['required'] && changePasswordForm.get('currentPassword')?.touched">
      Current password is required.
    </small>
  </div>
</div>


    <!-- New Password -->
    <div class="col-md-12">
  <div class="mb-3 w-50">
    <label class="form-label fw-semibold">New Password</label>
    <div class="position-relative">
      <input [type]="showNewPassword ? 'text' : 'password'"
             class="form-control pe-5"
             formControlName="newPassword"
             placeholder="New Password"
             maxlength="50"
             style="padding-right: 2.5rem;">
      <button *ngIf="changePasswordForm.get('newPassword')?.value"
       type="button"
              class="btn position-absolute top-0 end-0 h-100 border-0 bg-transparent d-flex align-items-center px-2"
              (click)="showNewPassword = !showNewPassword">
        <i class="bi" [ngClass]="showNewPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
      </button>
    </div>
    <small class="text-danger"
           *ngIf="changePasswordForm.get('newPassword')?.touched && changePasswordForm.get('newPassword')?.errors?.['required']">
      New password is required.
    </small>
    <small class="text-danger"
           *ngIf="changePasswordForm.get('newPassword')?.touched && changePasswordForm.get('newPassword')?.errors?.['passwordStrength']">
      Password must include at least one uppercase letter, one number, and one special character.
    </small>
  </div>
</div>


    <!-- Confirm New Password -->
    <div class="col-md-12">
  <div class="mb-3 w-50">
    <label class="form-label fw-semibold">Confirm New Password</label>
    <div class="position-relative">
      <input [type]="showConfirmPassword ? 'text' : 'password'"
             class="form-control pe-5"
             formControlName="confirmNewPassword"
             placeholder="Confirm Password"
             maxlength="50"
             style="padding-right: 2.5rem;">
      <button *ngIf="changePasswordForm.get('confirmNewPassword')?.value"
       type="button"
              class="btn position-absolute top-0 end-0 h-100 border-0 bg-transparent d-flex align-items-center px-2"
              (click)="showConfirmPassword = !showConfirmPassword">
        <i class="bi" [ngClass]="showConfirmPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
      </button>
    </div>
    <small class="text-danger"
           *ngIf="changePasswordForm.get('confirmNewPassword')?.touched && changePasswordForm.get('confirmNewPassword')?.errors?.['required']">
      Confirm password is required.
    </small>
    <small class="text-danger"
           *ngIf="changePasswordForm.get('confirmNewPassword')?.touched && changePasswordForm.errors?.['passwordMismatch']">
      Passwords do not match.
    </small>
  </div>
</div>

    <!-- Checkbox -->
    <div class="col-md-12 mt-lg-5">
      <div class="form-check">
        <input class="form-check-input" formControlName="confirmCheckbox" type="checkbox" id="checkDefault">
        <label class="form-check-label" for="checkDefault">
          I have verified user account password changes are correct. *
        </label>
        <small class="text-danger d-block" *ngIf="changePasswordForm.get('confirmCheckbox')?.touched && changePasswordForm.get('confirmCheckbox')?.errors?.['required']">
          Please confirm before submitting.
        </small>
      </div>

      <button type="submit" class="common-btn mt-4 border-0">
        <img src="assets/images/orange-arrow-right.png" alt="Arrow Right" class="img-fluid">
        <p class="text-white m-0">Submit</p>
      </button>
    </div>
  </div>
</form>
</div>